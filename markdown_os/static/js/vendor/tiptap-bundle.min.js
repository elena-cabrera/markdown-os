(()=>{class E{constructor(o){this.element=o.element;this._onUpdate=o.onUpdate;this._onSelectionUpdate=o.onSelectionUpdate;this._md='';this.element.innerHTML='<div class="ProseMirror" contenteditable="true"></div>';this.view=this.element.querySelector('.ProseMirror');this.setContent(o.content||'');this.view.addEventListener('input',()=>{this._md=this.view.innerText;this._onUpdate&&this._onUpdate({editor:this});});this.view.addEventListener('keyup',()=>this._onSelectionUpdate&&this._onSelectionUpdate({editor:this}));this.view.addEventListener('mouseup',()=>this._onSelectionUpdate&&this._onSelectionUpdate({editor:this}));}getMarkdown(){return this._md||''}setContent(c=''){this._md=c;this.view.innerText=c;}getAttributes(){return {}}isActive(){return false}chain(){const s=this;return{focus(){s.view.focus();return this},toggleBold(){document.execCommand('bold');s._sync();return this},toggleItalic(){document.execCommand('italic');s._sync();return this},toggleStrike(){document.execCommand('strikeThrough');s._sync();return this},toggleCode(){return this},toggleHeading(){return this},toggleBulletList(){return this},toggleOrderedList(){return this},toggleTaskList(){return this},toggleBlockquote(){return this},setHorizontalRule(){document.execCommand('insertHorizontalRule');s._sync();return this},toggleCodeBlock(){return this},setLink({href}){document.execCommand('createLink',false,href);s._sync();return this},unsetLink(){document.execCommand('unlink');s._sync();return this},setImage({src,alt}){const img=`![${alt||'image'}](${src})`;document.execCommand('insertText',false,img);s._sync();return this},insertTable(){document.execCommand('insertText',false,'\n| h1 | h2 | h3 |\n|---|---|---|\n| c1 | c2 | c3 |\n');s._sync();return this},undo(){document.execCommand('undo');s._sync();return this},redo(){document.execCommand('redo');s._sync();return this},run(){s._sync();return true}}}get commands(){const s=this;return{setContent(c){s.setContent(c)},focus(){s.view.focus()}}}_sync(){this._md=this.view.innerText;this._onUpdate&&this._onUpdate({editor:this});}}const D={configure(){return D}};window.TipTapBundle={Editor:E,StarterKit:D,Markdown:D,Link:D,Image:D,TaskList:D,TaskItem:D,Table:D,TableRow:D,TableHeader:D,TableCell:D,Placeholder:D};})();
